# Github
---
<br>

# 1. Github란 무엇인가
## 1-1. GitHub 개념
#### Github
  - git 사용을 위한 원격 웹 저장소를 제공하는 서비스
  - 로컬에서 만든 git 버전을 인터넷에 저장할 수 있음
  - 개발자들이 많이 사용하고 주목하는 여러 오픈 소스들이 올라와 있음

#### Github의 용도
  - 로컬 저장소를 백업하고, 다른 머신에서 내려받아 사용
  - 웹에 저장한 원격 저장소를 다른 사람과 공유하여 협업하거나, 남이 개발해 놓은 오픈소스를 살펴볼 수 있다.
  - 커밋이나 수정 등 contribution에 대한 이력이 남기 때문에 자신의 개발 이력을 남겨 포트폴리오로 활용 가능
  - git을 위한 서비스이므로 로컬에 git을 설치하지 않아도 온라인 상에서 git을 사용 가능
<br>

## 1-2. Github 사용 시 알아야할 것
### 원격 저장소와 로컬 저장소
  - **원격 저장소(Remote Repostiory)** : 로컬 저장소에서 웹으로 업로드한 저장소
  - **로컬 저장소(Local Repository)** : 사용자의 기기에 있는 git 저장소
  - 로컬 저장소의 기본 브랜치가 master인 것처럼, 원격 저장소의 기본 브랜치 또한 master이다.

### Github 사용 흐름
  - github 사이트에서 원격 리포지토리 생성
  - 로컬에서 원격 리포지토리 연결 (add)
  - 업로드 (push)
  - 다운로드 (pull)
<br>

---
# 2. Github 기본 사용법
## 2-1. 원격 저장소 생성
  - github 사이트에서 생성 가능
### 원격 리포지토리 주소
```shell
https://github.com/{ID}/{repository_name}
# github에서 생성한 remote repository로 연결하는 https 링크
```
<br>


## 2-2. 로컬 - 원격 연결하기
### 로컬 저장소와 원격 저장소를 연결하기
```shell
git remote add {별명} {github_원격저장소명}
# URL에 위치한 원격 저장소를 git 저장소로 만든 현재 디렉토리(로컬 저장소)와 연결
# 연결된 원격저장소 이름을 name이라고 저장

# CONVENTIONAL USAGE
git remote add origin {remote_repository_URL}
```
#### ☝🏼 저장소 연결은 한번만 하면 된다.
<br>

### 원격 저장소 연결 정보 확인하기
```shell
git remote -v
# 현재 저장소에 연결된 원격 저장소들의 목록을 조회

git remote
#위와 동일
```
### 원격 저장소 목록 관리
  - 연결하면서 원격저장소 목록에 저장한 원격저장소의 이름을 변경하거나, 원격저장소를 삭제할 수 있다
```shell
git remote rename {oldname} {newname}
# 원격저장소명 변경

git remote remove {name}
# 원격저장소 삭제(연결 해제)
```
<br>

## 2-3. 원격 저장소에 올리기 & 내려받기
### 원격 저장소에 파일 올리기
```shell
git push {저장소명} {브랜치명}
# 해당 원격 저장소의 해당 브랜치에 변경 사항(커밋)을 업로드
# {저장소명} : add할 당시 붙인 이름
# {브랜치명} : 원격 저장소에 존재하는 브랜치
```
#### ☝🏼 -u 옵션
 - 업로드할 때 **-u** 옵션을 추가하면, 현재 브랜치와 연결하는 원격 저장소와 브랜치 정보를 저장해주면서, 이후 저장소명과 브랜치명을 입력하지 않아도 됨 
 - 처음 업로드 할때 쓰면 편리함
```shell
# CONVENTIONAL USAGE
git push -u origin master

git push
# -u 옵션 적용 이후의 push
```
<br>

### 원격 저장소에서 파일 내려받기
```shell
git pull {저장소명} {브랜치명}
# 헤당 원격 저장소의 해당 브랜치에 저장된 내용을 로컬로 다운로드

# CONVENTIONAL USAGE
git pull origin master

git pull
# git push -u 적용 이후의 pull
```
#### ☝🏼 origin master → origin이라는 이름의 원격저장소에 있는 master 브랜치
<br>

---
# 3. Github를 사용한 협업
## 3-1. 협업의 형태
  - 협업 시에는 자신이 원격 저장소에서 내려받아 작업을 하는 사이에 다른 사람이 원격 저장소의 버전을 변경할 가능성이 있음
  - 누구나 원본 저장소를 변경하면 위험한 일이 벌어질 수 있음
  - 무분별한 커밋과 브랜치 생성을 막아 생산성을 높이기 위해 리포지토리 수정 권한을 통제할 수 있음
<br>

### case 1: 팀장의 리포지토리에 팀원들을 공동 작업자로 추가하기
  - 수평적 관계
  - 소규모 팀 프로젝트에서 사용되는 방식
  - Github 사이트에서 자신의 리포지토리를 다른 사람과 공유할 수 있음
  - 공유하려는 사람의 Github ID(이메일 주소)가 필요함
#### ☝🏼 이 경우, 공동 작업자들 모두 원격 저장소를 수정라거나 브랜치를 생성할 수 있는 권한을 가지게 됨
<br>

### case 2: 팀원이 팀장의 리포지토리를 자신의 계정으로 가져오기
  - 계층적 관계
  - 대부분의 오픈 소스에서 사용되는 방식
  - 공동 작업자를 소수만 두고, 나머지는 수정 요청(풀 리퀘스트)을 통해 코드 기여

#### ☝🏼 원본 저장소 수정 권한은 팀장만 가지고 있으며, 팀원들은 풀 리퀘스트를 올려 팀장의 허가를 받아야만 원본 저장소에 브랜치를 생성하거나 수정할 수 있음
<br>

## 3-2. 작업 환경 준비하기
### fork
### → 자신의 저장소에 다른 사람의 저장소 가져오기
  - Github 사이트의 원본 저장소로 들어가서 fork할 수 있음
<br>

### 풀 리퀘스트 관리
#### pull request, PR
  - 원격 저장소의 주인이나 공동 작업자가 아닌 사람이 보내는 저장소 변경 요청
  - 공동 작업자는 Github 사이트에서 저장소로 들어가 PR을 관리할 수 있음
  - 현업에서는 권한이 있는 사람들끼리라도 직접 머지하지 않고 PR을 올려 서로 코드 리뷰를 할 수 있게 함
#### change request
  - 풀 리퀘스트를 수정해달라는 요청
<br>

### 로컬에 원격 저장소 복제하기
  - 원격 저장소의 내용 전체를 똑같이 로컬에 복제
```shell
git clone {remote_repository_URL}
# 현재 경로에 원격 저장소 내용을 복제함

git clone {remote_repository_URL} {dirname}
# 현재 경로에 원격 저장소 내용을 복제하고, 그 이름을 지정
```
#### ☝🏼 cloning을 하면 
  - 자동으로 **push / pull**할 원격 저장소와 브랜치 정보가 저장되어있기 때문에 바로 **git push / git pull**을 사용할 수 있음
<br>

## 3-3. 원격 저장소와 동기화하기
### 협업 시 동기화의 필요성
  - 협업을 할 때는 자신이 작업 중일 때 원격 저장소의 내용이 바뀔 수 있음
  - 따라서 작엄 전후로 원격 저장소와 로컬 저장소의 상태를 동기화시켜야 함
### 동기화 방법
#### case 1 - 작업을 시작하기 전
  - 작업을 시작하기 전에, 먼저 원격 저장소에서 **pull**을 하여 로컬 저장소를 최신화
#### case 2 - 작업을 마치고
  - **push**를 진행하기 전에, **fetch - merge**를 먼저 하고, 그 다음 **push**를 진행
<br>

#### ☝🏼 자신이 첫 번째 커밋을 진행하고 있다면, 굳이 동기화할 필요 없음
<br>

### fetch
#### → 원격 브랜치 변경 정보 가져오기
  - 현재 작업 중인 워킹트리를 변경하지 않고 원격 저장소의 커밋 정보를 가져옴
  - **pull** 명령이 원격 저장소의 커밋을 가져와서 바로 작업 트리에 합치는 것과 달리, **fetch**는 갖고 온 커밋을 지역 저장소와 합치지 않음
  - **fetch** 명령을 하면, 작업 트리에는 변화가 없고 커밋 로그만 바뀌어있음
  - **fetch**로 가져온 정보는 **FETCH_HEAD**라는 별도의 저장소에 저장됨
```shell
git fetch {저장소명} {브랜치명}
# 해당 저장소의 해당 브랜치에 대한 최신을 FETCH_HEAD로 가져옴

git fetch 
# 연결된 저장소의 브랜치에 대한 변경 사항을 FETCH_HEAD로 가져옴
```
#### ☝🏼 fetch로 인한 변화 확인하기
  - git log를 하면, 원격 저장소에서 변경된 커밋 정보를 확인할 수 있음
  - git status를 하면, 현재 브랜치에 최신 커밋이 반영되지 않았다는 메시지를 확인할 수 있음
<br>

### merge
#### → fetch한 내용을 병합하기
  - FETCH_HEAD에 담긴 fetch 정보를 로컬 트리에 반영
  - 현재 가리키고 있는 브랜치와 병합함
```shell
git merge FETCH_HEAD
# 현재의 브랜치에 fetch한 내용을 병합

git merge
# 위와 동일

# CONVENTIONAL USAGE
git checkout master
git merge origin/master
# 로컬의 master브랜치로 이동한 뒤, 원격 master저장소와 병합
```
<br>



